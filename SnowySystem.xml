<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Include file="SnowySystem.lua"/>
  <Include file="Shared.lua"/>
  <Include file="DrawElements.lua"/>
  <Include file="Load.lua"/>
  <Frame name="SS_Player_Menu" parent="UIParent" enableMouse="true">
    <Scripts>
      <OnLoad>
        self:RegisterEvent("PLAYER_ENTERING_WORLD");
      </OnLoad>
			<OnEvent>
        if(event == "PLAYER_ENTERING_WORLD") then
          SS_ApplicationLoad();
          if (SS_User.settings.currentPlot) then
            SS_Draw_PlayerMenuOnPlotActivate();
            SS_Draw_PlayerFrameOnPlotActivate();
          else
            SS_Draw_PlayerMenuOnPlotDeactivate();
            SS_Draw_PlayerFrameOnPlotDeActivate();
          end;
        end;
      </OnEvent>
      <OnEnter>
        self:SetPoint("LEFT", -12, 0);
      </OnEnter>
      <OnLeave>
        self:SetPoint("LEFT", -64, 0);
      </OnLeave>
    </Scripts>
    <Size>
      <AbsDimension x="84" y="84" />
    </Size>
    <Anchors>
      <Anchor point="LEFT">
        <Offset><AbsDimension x="-64" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Frames>
      <Button name="$parent_DicesIcon" hidden="true">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Проверки")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Dices_Menu:IsVisible()) then
              SS_Dices_Menu:Hide();
            else
              SS_Draw_HideSubmenus();
              SS_Dices_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOP">
            <Offset>
              <AbsDimension x="0" y="-20"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\actions.blp" />
      </Button>
      <Button name="$parent_StatsIcon" hidden = "true">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Характеристики")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Stats_Menu:IsVisible()) then
              SS_Stats_Menu:Hide();
            else
              SS_Draw_HideSubmenus();
              SS_Stats_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOP">
            <Offset>
              <AbsDimension x="0" y="-65"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\stats.blp" />
      </Button>
      <Button name="$parent_SkillsIcon" hidden = "true">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Навыки")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Skills_Menu:IsVisible()) then
              SS_Skills_Menu:Hide();
            else
              SS_Draw_HideSubmenus();
              SS_Skills_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOP">
            <Offset>
              <AbsDimension x="0" y="-110"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\skills.blp" />
      </Button>
      <Button name="$parent_ArmorIcon" hidden = "true">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Снаряжение")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Armor_Menu:IsVisible()) then
              SS_Armor_Menu:Hide();
            else
              SS_Draw_HideSubmenus();
              SS_Armor_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOP">
            <Offset>
              <AbsDimension x="0" y="-155"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\armor.blp" />
      </Button>
      <Button name="$parent_SettingsIcon">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Управление")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Controll_Menu:IsVisible()) then
              SS_Controll_Menu:Hide();
            else
              SS_Draw_HideSubmenus();
              SS_Controll_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="CENTER" />
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\settings_normal" />
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Controll_Menu" hidden="true">
    <Scripts>
      <OnShow>
        SS_Draw_Plots(SS_Controll_Menu_Settings_PlotType:GetText())
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="500" y="250"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
      <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Управление">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_SettingsTitle" font="Fonts\FRIZQT__.TTF" text="Настройки">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-48" />
          </Anchors>
        </FontString>
        <FontString name="$parent_PlotsTitle" font="Fonts\FRIZQT__.TTF" text="Сюжеты">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOP" x="-14" y="-48" />
          </Anchors>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Settings_DiceInfo" font="Fonts\FRIZQT__.TTF" text="Информация о броске">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="40" y="-76" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Settings_Invites" font="Fonts\FRIZQT__.TTF" text="Принимать приглашения">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="40" y="-106" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Settings_PlotType" font="Fonts\FRIZQT__.TTF" text="Все">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPRIGHT" x="-50" y="-48" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Settings_EmptyPlot" font="Fonts\FRIZQT__.TTF">
          <Color r="0.6" g="0.6" b="0.6" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPRIGHT" x="-175" y="-76" />
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <CheckButton name="$parent_Settings_DiceCheck" inherits="OptionsCheckButtonTemplate" checked="true">
        <Scripts>
          <OnShow>
            self:SetChecked(SS_User.settings.displayDiceInfo);
          </OnShow>
          <OnClick>
            SS_User.settings.displayDiceInfo = not SS_User.settings.displayDiceInfo;
            self:SetChecked(SS_User.settings.displayDiceInfo);
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="14" y="-70"></AbsDimension>
            </Offset>
          </Anchor>
        </Anchors>
      </CheckButton>
      <CheckButton name="$parent_Settings_InvitesCheck" inherits="OptionsCheckButtonTemplate" checked="true">
        <Scripts>
          <OnShow>
            self:SetChecked(SS_User.settings.acceptInvites);
          </OnShow>
          <OnClick>
            SS_User.settings.acceptInvites = not SS_User.settings.acceptInvites;
            self:SetChecked(SS_User.settings.acceptInvites);
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="14" y="-100"></AbsDimension>
            </Offset>
          </Anchor>
        </Anchors>
      </CheckButton>
      <Button name="$parent_Settings_PlotTypeNext" inherits="OptionsButtonTemplate" text="+">
        <Size x = "20" y = "20" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-20" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnShow>
            if (SS_Controll_Menu_Settings_PlotType:GetText() == "Все") then
              SS_Draw_HideEmptyPlotsText('plots');
            else
              SS_Draw_HideEmptyPlotsText('leadingPlots');
            end;
          </OnShow>
          <OnClick>
            if (SS_Controll_Menu_Settings_PlotType:GetText() == "Все") then
              SS_Controll_Menu_Settings_PlotType:SetText("Только ведущий");
              SS_Draw_HideEmptyPlotsText('leadingPlots');
            else
              SS_Controll_Menu_Settings_PlotType:SetText("Все");
              SS_Draw_HideEmptyPlotsText('plots');
            end;
            SS_Draw_Plots(SS_Controll_Menu_Settings_PlotType:GetText());
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Settings_Create_New_Plot" inherits="OptionsButtonTemplate" text="Создать">
        <Anchors>
          <Anchor point="BOTTOMRIGHT">
            <Offset x="-20" y="24"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():Hide();
            SS_Create_Menu:Show();
          </OnClick>
        </Scripts>
      </Button>
      <ScrollFrame name="SS_Plots_Container_Scroll" inherits="UIPanelScrollFrameTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent" x="214" y="-74"/>
          <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent" x="214" y="56"/>
          <Anchor point="RIGHT" relativePoint="RIGHT" relativeTo="$parent" x="-44"/>
        </Anchors>
        <ScrollChild>
          <Frame name="SS_Plots_Container" />
        </ScrollChild>
      </ScrollFrame>
    </Frames>
  </Frame>
  <Frame name="SS_Dices_Menu" hidden="true">
    <Size><AbsDimension x="280" y="256"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
        <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Проверки">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Frame name="$parent_Active">
        <Size><AbsDimension x="140" y="210"/></Size>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset><AbsDimension x="5" y="-20"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Активные">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="12"/>
              <Anchors>
                <Anchor point="TOP" x="0" y="-20" />
              </Anchors>
              <Shadow>
                <Offset x="-1" y="-1" />
                <Color r="0" g="0" b="0"/>
              </Shadow>
            </FontString>
          </Layer>
        </Layers>
        <Frames>
          <Button name="$parent_Melee" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-40"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('melee'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('melee')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Range" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-64"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('range'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('range')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Magic" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-88"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('magic'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('magic')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Religion" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-112"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('religion'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('religion')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Perfomance" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-136"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('perfomance'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('perfomance')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Missing" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-160"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('missing'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('missing')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Hands" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-184"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('hands'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('hands')
              </OnClick>
            </Scripts>
          </Button>
        </Frames>
      </Frame>
      <Frame name="$parent_Passive">
        <Size><AbsDimension x="140" y="210"/></Size>
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset><AbsDimension x="-5" y="-20"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Пассивные">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="12"/>
              <Anchors>
                <Anchor point="TOP" x="0" y="-20" />
              </Anchors>
              <Shadow>
                <Offset x="-1" y="-1" />
                <Color r="0" g="0" b="0"/>
              </Shadow>
            </FontString>
          </Layer>
        </Layers>
        <Frames>
          <Button name="$parent_Athletics" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-40"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('athletics'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('athletics')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Observation" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-64"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('observation'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('observation')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Knowledge" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-88"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('knowledge'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('knowledge')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Controll" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-112"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('controll'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('controll')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Judgment" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-136"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('judgment'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('judgment')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Acrobats" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-160"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('acrobats'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('acrobats')
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Stealth" inherits="OptionsButtonTemplate">
            <Size x = "115" y = "22" />
            <Anchors>
              <Anchor point="TOP">
                <Offset x="0" y="-184"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnShow>
                self:SetText(SS_Locale('stealth'));
              </OnShow>
              <OnClick>
                SS_DiceRoll('stealth')
              </OnClick>
            </Scripts>
          </Button>
        </Frames>
      </Frame>
    </Frames>
  </Frame>
  <Frame name="SS_Stats_Menu" hidden="true">
    <Scripts>
      <OnShow>
        SS_Stats_Menu_Stat_Power:SetText(SS_Locale('power')..': '..SS_Stats_GetValue('power'));
        SS_Stats_Menu_Stat_Accuracy:SetText(SS_Locale('accuracy')..': '..SS_Stats_GetValue('accuracy'));
        SS_Stats_Menu_Stat_Wisdom:SetText(SS_Locale('wisdom')..': '..SS_Stats_GetValue('wisdom'));
        SS_Stats_Menu_Stat_Empathy:SetText(SS_Locale('empathy')..': '..SS_Stats_GetValue('empathy'));
        SS_Stats_Menu_Stat_Morale:SetText(SS_Locale('morale')..': '..SS_Stats_GetValue('morale'));
        SS_Stats_Menu_Stat_Mobility:SetText(SS_Locale('mobility')..': '..SS_Stats_GetValue('mobility'));
        SS_Stats_Menu_Stat_Precision:SetText(SS_Locale('precision')..': '..SS_Stats_GetValue('precision'));
        SS_Stats_Menu_Points_Value:SetText(SS_Stats_GetAvaliablePoints());
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="220" y="255"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
      <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Характеристики">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Stat_Power" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-45" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Accuracy" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-70" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Wisdom" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-95" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Morale" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-120" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Empathy" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-145" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Mobility" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-170" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Precision" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-195" />
          </Anchors>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Points_Name" font="Fonts\FRIZQT__.TTF" text="Доступно:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="BOTTOMLEFT" x="20" y="20" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Points_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="BOTTOMLEFT" x="76" y="20" />
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_Stat_Power_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(1, 'power', SS_Stats_Menu_Stat_Power);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Power_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-1, 'power', SS_Stats_Menu_Stat_Power);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Power_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-SS_Stats_GetValue('power'), 'power', SS_Stats_Menu_Stat_Power);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Power_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Мощь")
            GameTooltip:AddLine("Облегчает проверки ближнего боя и атлетики")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(1, 'accuracy', SS_Stats_Menu_Stat_Accuracy);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-1, 'accuracy', SS_Stats_Menu_Stat_Accuracy);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-SS_Stats_GetValue('accuracy'), 'accuracy', SS_Stats_Menu_Stat_Accuracy);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Точность")
            GameTooltip:AddLine("Облегчает проверки дальнего боя и внимательности")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>  
      <Button name="$parent_Stat_Wisdom_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(1, 'wisdom', SS_Stats_Menu_Stat_Wisdom);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Wisdom_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-1, 'wisdom', SS_Stats_Menu_Stat_Wisdom);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Wisdom_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-SS_Stats_GetValue('wisdom'), 'wisdom', SS_Stats_Menu_Stat_Wisdom);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Wisdom_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Мудрость")
            GameTooltip:AddLine("Облегчает проверки чародейства и знания")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(1, 'morale', SS_Stats_Menu_Stat_Morale);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-1, 'morale', SS_Stats_Menu_Stat_Morale);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-SS_Stats_GetValue('morale'), 'morale', SS_Stats_Menu_Stat_Morale);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Мораль")
            GameTooltip:AddLine("Облегчает проверки веры и самоконтроля")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(1, 'empathy', SS_Stats_Menu_Stat_Empathy);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-1, 'empathy', SS_Stats_Menu_Stat_Empathy);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-SS_Stats_GetValue('empathy'), 'empathy', SS_Stats_Menu_Stat_Empathy);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Эмпатия")
            GameTooltip:AddLine("Облегчает проверки выступления и суждения")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(1, 'mobility', SS_Stats_Menu_Stat_Mobility);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-1, 'mobility', SS_Stats_Menu_Stat_Mobility);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-SS_Stats_GetValue('mobility'), 'mobility', SS_Stats_Menu_Stat_Mobility);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Подвижность")
            GameTooltip:AddLine("Облегчает проверки избегания и акробатики")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Precision_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-193"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(1, 'precision', SS_Stats_Menu_Stat_Precision);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Precision_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-193"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-1, 'precision', SS_Stats_Menu_Stat_Precision);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Precision_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-193"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_Stats_AddPoint(-SS_Stats_GetValue('precision'), 'precision', SS_Stats_Menu_Stat_Precision);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Precision_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-193"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Аккуратность")
            GameTooltip:AddLine("Облегчает проверки ловкости рук и скрытности")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Skills_Menu" hidden="true">
    <Scripts>
      <OnShow>
        SS_Skills_Menu_Points_Value:SetText(SS_Skills_GetAvaliablePoints());
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="430" y="275"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
      <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Навыки">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Points_Name" font="Fonts\FRIZQT__.TTF" text="Доступно:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="BOTTOMLEFT" x="20" y="20" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Points_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="BOTTOMLEFT" x="76" y="20" />
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Frame name="$parent_Active">
        <Scripts>
          <OnShow>
            SS_Skills_Menu_Active_Skill_Melee:SetText(SS_Locale('melee')..": "..SS_Skills_GetValue('melee'));
            SS_Skills_Menu_Active_Skill_Range:SetText(SS_Locale('range')..": "..SS_Skills_GetValue('range'));
            SS_Skills_Menu_Active_Skill_Magic:SetText(SS_Locale('magic')..": "..SS_Skills_GetValue('magic'));
            SS_Skills_Menu_Active_Skill_Religion:SetText(SS_Locale('religion')..": "..SS_Skills_GetValue('religion'));
            SS_Skills_Menu_Active_Skill_Perfomance:SetText(SS_Locale('perfomance')..": "..SS_Skills_GetValue('perfomance'));
            SS_Skills_Menu_Active_Skill_Missing:SetText(SS_Locale('missing')..": "..SS_Skills_GetValue('missing'));
            SS_Skills_Menu_Active_Skill_Hands:SetText(SS_Locale('hands')..": "..SS_Skills_GetValue('hands'));
          </OnShow>
        </Scripts>
        <Size><AbsDimension x="220" y="210"/></Size>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset><AbsDimension x="0" y="-20"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Активные">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="12"/>
              <Anchors>
                <Anchor point="TOP" x="0" y="-20" />
              </Anchors>
              <Shadow>
                <Offset x="-1" y="-1" />
                <Color r="0" g="0" b="0"/>
              </Shadow>
            </FontString>
          </Layer>
          <Layer>
            <FontString name="$parent_Skill_Melee" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-45" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Range" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-70" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Magic" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-95" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Religion" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-120" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Perfomance" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-145" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Missing" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-170" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Hands" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-195" />
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Frames>
          <Button name="$parent_Skill_Melee_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'melee', SS_Skills_Menu_Active_Skill_Melee);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Melee_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'melee', SS_Skills_Menu_Active_Skill_Melee);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Melee_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('melee'), 'melee', SS_Skills_Menu_Active_Skill_Melee);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Melee_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Ближний бой")
                GameTooltip:AddLine("Применяется для всех атак, проводимых в ближнем бою.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Ударить дубиной")
                GameTooltip:AddLine("Бонус: Мощь")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'range', SS_Skills_Menu_Active_Skill_Range);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'range', SS_Skills_Menu_Active_Skill_Range);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('range'), 'range', SS_Skills_Menu_Active_Skill_Range);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Дальний бой")
                GameTooltip:AddLine("Применяется для всех атак, проводимых в дальнем бою.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Выстрелить из лука")
                GameTooltip:AddLine("Бонус: Точность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'magic', SS_Skills_Menu_Active_Skill_Magic);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'magic', SS_Skills_Menu_Active_Skill_Magic);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('magic'), 'magic', SS_Skills_Menu_Active_Skill_Magic);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Чародейство")
                GameTooltip:AddLine("Применяется для атак с использованием магии.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Заклинания чернокнижников, магов")
                GameTooltip:AddLine("Бонус: Мудрость")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'religion', SS_Skills_Menu_Active_Skill_Religion);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'religion', SS_Skills_Menu_Active_Skill_Religion);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('religion'), 'religion', SS_Skills_Menu_Active_Skill_Religion);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Вера")
                GameTooltip:AddLine("Применяется для атак, основанных на веровании персонажа.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Свет, Шаманизм, Друидизм")
                GameTooltip:AddLine("Бонус: Мораль")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'perfomance', SS_Skills_Menu_Active_Skill_Perfomance);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'perfomance', SS_Skills_Menu_Active_Skill_Perfomance);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('perfomance'), 'perfomance', SS_Skills_Menu_Active_Skill_Perfomance);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Выступление")
                GameTooltip:AddLine("Применяется для действий связанных с психологическим")
                GameTooltip:AddLine("воздействием на других персонажей")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Обман, Привлечение внимания, Убеждение")
                GameTooltip:AddLine("Бонус: Эмпатия")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Missing_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'missing', SS_Skills_Menu_Active_Skill_Missing);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Missing_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'missing', SS_Skills_Menu_Active_Skill_Missing);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Missing_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('missing'), 'missing', SS_Skills_Menu_Active_Skill_Missing);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Missing_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Избегание")
                GameTooltip:AddLine("Применяется для проверок побега и отклонения от урона по области")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Избежать урона от ловушки, выйти из боя")
                GameTooltip:AddLine("Бонус: Подвижность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-192"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'hands', SS_Skills_Menu_Active_Skill_Hands);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-192"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'hands', SS_Skills_Menu_Active_Skill_Hands);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-192"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('hands'), 'hands', SS_Skills_Menu_Active_Skill_Hands);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-192"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Ловкость рук")
                GameTooltip:AddLine("Применяется для действий, требующих мелкой моторики")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Карманная кража, взлом замка")
                GameTooltip:AddLine("Бонус: Аккуратность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
        </Frames>
      </Frame>
      <Frame name="$parent_Passive">
        <Scripts>
          <OnShow>
            SS_Skills_Menu_Passive_Skill_Stealth:SetText(SS_Locale('stealth')..": "..SS_Skills_GetValue('stealth'));
            SS_Skills_Menu_Passive_Skill_Observation:SetText(SS_Locale('observation')..": "..SS_Skills_GetValue('observation'));
            SS_Skills_Menu_Passive_Skill_Knowledge:SetText(SS_Locale('knowledge')..": "..SS_Skills_GetValue('knowledge'));
            SS_Skills_Menu_Passive_Skill_Controll:SetText(SS_Locale('controll')..": "..SS_Skills_GetValue('controll'));
            SS_Skills_Menu_Passive_Skill_Judgment:SetText(SS_Locale('judgment')..": "..SS_Skills_GetValue('judgment'));
            SS_Skills_Menu_Passive_Skill_Athletics:SetText(SS_Locale('athletics')..": "..SS_Skills_GetValue('athletics'));
            SS_Skills_Menu_Passive_Skill_Acrobats:SetText(SS_Locale('acrobats')..": "..SS_Skills_GetValue('acrobats'));
          </OnShow>
        </Scripts>
        <Size><AbsDimension x="220" y="210"/></Size>
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset><AbsDimension x="0" y="-20"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Пассивные">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="12"/>
              <Anchors>
                <Anchor point="TOP" x="0" y="-20" />
              </Anchors>
              <Shadow>
                <Offset x="-1" y="-1" />
                <Color r="0" g="0" b="0"/>
              </Shadow>
            </FontString>
          </Layer>
          <Layer>
            <FontString name="$parent_Skill_Athletics" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-45" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Observation" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-70" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Knowledge" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-95" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Controll" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-120" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Judgment" font="Fonts\FRIZQT__.TTF">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-145" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Acrobats" font="Fonts\FRIZQT__.TTF" text="Акробатика:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-170" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Stealth" font="Fonts\FRIZQT__.TTF" text="Скрытность:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-195" />
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Frames>
          <Button name="$parent_Skill_Athletics_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-68" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'athletics', SS_Skills_Menu_Passive_Skill_Athletics);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Athletics_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-52" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'athletics', SS_Skills_Menu_Passive_Skill_Athletics);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Athletics_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-36" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('athletics'), 'athletics', SS_Skills_Menu_Passive_Skill_Athletics);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Athletics_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-20" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Атлетика")
                GameTooltip:AddLine("Используется для проверок силового взаимодействия персонажа и окружения")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Удержать крупный камень, залезть на выступ")
                GameTooltip:AddLine("Бонус: Мощь")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Observation_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-68" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'observation', SS_Skills_Menu_Passive_Skill_Observation);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Observation_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-52" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'observation', SS_Skills_Menu_Passive_Skill_Observation);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Observation_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-36" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('observation'), 'observation', SS_Skills_Menu_Passive_Skill_Observation);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Observation_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-20" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Наблюдательность")
                GameTooltip:AddLine("Применяется для проверок, основанных на умении отмечать мелкие детали.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: обнаружить тайный рычаг, заметить спрятанный предмет")
                GameTooltip:AddLine("Бонус: Внимательность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Knowledge_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-68" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'knowledge', SS_Skills_Menu_Passive_Skill_Knowledge);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Knowledge_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-52" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'knowledge', SS_Skills_Menu_Passive_Skill_Knowledge);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Knowledge_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-36" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('knowledge'), 'knowledge', SS_Skills_Menu_Passive_Skill_Knowledge);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Knowledge_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-20" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Знание")
                GameTooltip:AddLine("Применяется для проверок знания о мире, существах или истории.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Опознать существо, прочесть текст на древнем языке")
                GameTooltip:AddLine("Бонус: Мудрость")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Controll_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-68" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'controll', SS_Skills_Menu_Passive_Skill_Controll);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Controll_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-52" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'controll', SS_Skills_Menu_Passive_Skill_Controll);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Controll_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-36" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('controll'), 'controll', SS_Skills_Menu_Passive_Skill_Controll);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Controll_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-20" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Самоконтроль")
                GameTooltip:AddLine("Применяется для противодействию психологическому и психическому воздействию.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Сопротивление испугу, очарованию.")
                GameTooltip:AddLine("Бонус: Мораль")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Judgment_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-68" y="-142"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'judgment', SS_Skills_Menu_Passive_Skill_Judgment);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Judgment_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-52" y="-142"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'judgment', SS_Skills_Menu_Passive_Skill_Judgment);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Judgment_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-36" y="-142"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('judgment'), 'judgment', SS_Skills_Menu_Passive_Skill_Judgment);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Judgment_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-20" y="-142"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Суждение")
                GameTooltip:AddLine("Применяется для формирования корректных выводов")
                GameTooltip:AddLine("на основе имеющейся информации.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Распознать истинные намерения собеседника")
                GameTooltip:AddLine("Бонус: Эмпатия")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Acrobats_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-68" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'acrobats', SS_Skills_Menu_Passive_Skill_Acrobats);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Acrobats_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-52" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'acrobats', SS_Skills_Menu_Passive_Skill_Acrobats);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Acrobats_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-36" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('acrobats'), 'acrobats', SS_Skills_Menu_Passive_Skill_Acrobats);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Acrobats_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-20" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Акробатика")
                GameTooltip:AddLine("Испоьзуется для проверок ловких взаимодействий игрока с миром")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: прыжок на большое расстояние, баланс на краю уступа")
                GameTooltip:AddLine("Бонус: Подвижность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Stealth_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-68" y="-191"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(1, 'stealth', SS_Skills_Menu_Passive_Skill_Stealth);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Stealth_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-52" y="-191"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-1, 'stealth', SS_Skills_Menu_Passive_Skill_Stealth);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Stealth_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-36" y="-191"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_Skills_AddPoint(-SS_Skills_GetValue('stealth'), 'stealth', SS_Skills_Menu_Passive_Skill_Stealth);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Stealth_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-20" y="-191"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Скрытность")
                GameTooltip:AddLine("Применяется для действий, которые требуется совершить незаметно.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Красться, Прятаться от противника")
                GameTooltip:AddLine("Бонус: Аккуратность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
        </Frames>
      </Frame>
    </Frames>
  </Frame>
  <Frame name="SS_Armor_Menu" hidden="true">
    <Scripts>
      <OnShow>
        SS_Armor_DrawCheck();
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="360" y="370"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
      <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Снаряжение">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Armor_Light_Name" font="Fonts\FRIZQT__.TTF" text="Легкое">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="44" y="-55" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Light_Description_Pt1" font="Fonts\FRIZQT__.TTF" text="Повседневная одежда, ряса,">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-80" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Light_Description_Pt2" font="Fonts\FRIZQT__.TTF" text="и другое сопоставимое.">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-94" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Light_Description_Pt3" font="Fonts\FRIZQT__.TTF" text="Не даёт очков защиты">
          <Color r="1" g="0.4" b="0.4" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-114" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Light_Description_Pt4" font="Fonts\FRIZQT__.TTF" text="Не накладывает штрафов">
          <Color r="0.4" g="1" b="0.4" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-134" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Armor_Medium_Name" font="Fonts\FRIZQT__.TTF" text="Стандартное">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="220" y="-55" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Medium_Description_Pt1" font="Fonts\FRIZQT__.TTF" text="Кожаная, кольчужная броня,">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="190" y="-80" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Medium_Description_Pt2" font="Fonts\FRIZQT__.TTF" text="броня из легких металлов и">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="190" y="-94" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Medium_Description_Pt3" font="Fonts\FRIZQT__.TTF" text="другое сопоставимое.">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="190" y="-108" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Medium_Description_Pt4" font="Fonts\FRIZQT__.TTF" text="Добавляет 1 ОБ за 2 ОЗ">
          <Color r="0.4" g="1" b="0.4" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="190" y="-128" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Medium_Description_Pt5" font="Fonts\FRIZQT__.TTF" text="Небольшой штраф на:">
          <Color r="1" g="0.4" b="0.4" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="190" y="-148" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Medium_Description_Pt6" font="Fonts\FRIZQT__.TTF" text="Чарод-во, избегание, ловк. рук">
          <Color r="1" g="0.3" b="0.3" a="1"/>
          <FontHeight val="9"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="190" y="-162" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Medium_Description_Pt7" font="Fonts\FRIZQT__.TTF" text="акробатика, скрытность">
          <Color r="1" g="0.3" b="0.3" a="1"/>
          <FontHeight val="9"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="190" y="-172" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Armor_Heavy_Name" font="Fonts\FRIZQT__.TTF" text="Тяжёлое">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="44" y="-206" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Heavy_Description_Pt1" font="Fonts\FRIZQT__.TTF" text="Все варианты латных и др.">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-226" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Heavy_Description_Pt2" font="Fonts\FRIZQT__.TTF" text="сопоставимых видов брони">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-240" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Heavy_Description_Pt3" font="Fonts\FRIZQT__.TTF" text="Добавляет 1 ОБ за 1.5 ОЗ">
          <Color r="0.4" g="1" b="0.4" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-260" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Heavy_Description_Pt4" font="Fonts\FRIZQT__.TTF" text="Большой штраф на:">
          <Color r="1" g="0.4" b="0.4" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-280" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Heavy_Description_Pt5" font="Fonts\FRIZQT__.TTF" text="Дальний бой, чарод-во, избегание">
          <Color r="1" g="0.3" b="0.3" a="1"/>
          <FontHeight val="9"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-294" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Heavy_Description_Pt6" font="Fonts\FRIZQT__.TTF" text="ловкость рук, внимательность,">
          <Color r="1" g="0.3" b="0.3" a="1"/>
          <FontHeight val="9"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-304" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Armor_Heavy_Description_Pt7" font="Fonts\FRIZQT__.TTF" text="акробатика, скрытность">
          <Color r="1" g="0.3" b="0.3" a="1"/>
          <FontHeight val="9"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="14" y="-314" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <CheckButton name="$parent_Armor_Light" inherits="OptionsCheckButtonTemplate" checked="false">
        <Scripts>
          <OnClick>
            SS_Armor_SelectType('light', SS_Armor_GetType())
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="14" y="-50"></AbsDimension>
            </Offset>
          </Anchor>
        </Anchors>
      </CheckButton>
      <CheckButton name="$parent_Armor_Medium" inherits="OptionsCheckButtonTemplate" checked="false">
        <Scripts>
          <OnClick>
            SS_Armor_SelectType('medium', SS_Armor_GetType())
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="190" y="-50"></AbsDimension>
            </Offset>
          </Anchor>
        </Anchors>
      </CheckButton>
      <CheckButton name="$parent_Armor_Heavy" inherits="OptionsCheckButtonTemplate" checked="false">
        <Scripts>
          <OnClick>
            SS_Armor_SelectType('heavy', SS_Armor_GetType())
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="14" y="-200"></AbsDimension>
            </Offset>
          </Anchor>
        </Anchors>
      </CheckButton>
      <Button name="$parent_Armor_Light_Visual" hidden = "true">
        <Anchors>
          <Anchor point="BOTTOMRIGHT">
            <Offset>
              <AbsDimension x="-32" y="36"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="128" y="128" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\armor-light.blp" />
      </Button>
      <Button name="$parent_Armor_Medium_Visual" hidden = "true">
        <Anchors>
          <Anchor point="BOTTOMRIGHT">
            <Offset>
              <AbsDimension x="-32" y="36"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="128" y="128" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\armor-medium.blp" />
      </Button>
      <Button name="$parent_Armor_Heavy_Visual" hidden = "true">
        <Anchors>
          <Anchor point="BOTTOMRIGHT">
            <Offset>
              <AbsDimension x="-32" y="36"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="128" y="128" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\armor-heavy.blp" />
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Create_Menu" parent = "UIParent" hidden="true">
    <Size><AbsDimension x="300" y="164"/></Size>
    <Anchors>
      <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\AddOns\SnowySystem\IMG\create-menu-background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="300"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Новый сюжет">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="14"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Name_Input_Title" font="Fonts\FRIZQT__.TTF" text="Название:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="LEFT" x="52" y="36" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_Close_Button" inherits="OptionsButtonTemplate" text="x">
        <Size x = "20" y = "20" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-20" y="-20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():Hide()
          </OnClick>
        </Scripts>
      </Button>
      <EditBox name="$parent_Name_Input" letters="36" autoFocus="false">
        <Size x="200" y="36" />
        <Anchors>
          <Anchor point="CENTER">
            <Offset><AbsDimension x="0" y="8"/></Offset>
          </Anchor>
        </Anchors>
        <TextInsets top="4" bottom="4" left="8" right="8" />
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
          <EdgeSize>
            <AbsValue val="12"/>
          </EdgeSize>
        </Backdrop>
        <FontString inherits="ChatFontNormal" />
      </EditBox>
      <Button name="$parent_Close_Button" inherits="OptionsButtonTemplate" text="Создать">
        <Size x = "140" y = "36" />
        <Anchors>
          <Anchor point="BOTTOM">
            <Offset x="0" y="20"/>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PlotController_CreateBoth(SS_Create_Menu_Name_Input:GetText(), UnitName("player"));
            self:GetParent():Hide();
          </OnClick>
        </Scripts>
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Plot_Activate" parent = "UIParent" hidden="true">
    <Size><AbsDimension x="300" y="200"/></Size>
    <Scripts>
      <OnShow>
        SS_Plot_Activate_Name:SetText('"'..SS_PlotController_GetSummaryOf("selected").name..'"');
        if (SS_User.plots[SS_User.settings.selectedPlot] and SS_User.leadingPlots[SS_User.settings.selectedPlot]) then
          SS_Plot_Activate_Role:SetText('Вы - игрок и ведущий сюжета');
        else
          if (SS_User.plots[SS_User.settings.selectedPlot]) then
            SS_Plot_Activate_Role:SetText('Вы - участник сюжета');
          elseif (SS_User.leadingPlots[SS_User.settings.selectedPlot]) then
            SS_Plot_Activate_Role:SetText('Вы - ведущий сюжета');
          end;
        end;
      </OnShow>
    </Scripts>
    <Anchors>
      <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\AddOns\SnowySystem\IMG\player-activate" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="300"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_PreName" font="Fonts\FRIZQT__.TTF" text = "Сюжет">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="16"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="50" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Name" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="0.6" b="0" a="1"/>
          <FontHeight val="20"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Role" font="Fonts\FRIZQT__.TTF" text="">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="14"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="-10" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_Close_Button" inherits="OptionsButtonTemplate" text="x">
        <Size x = "20" y = "20" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-20" y="-20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():Hide()
            SS_User.settings.selectedPlot = nil;
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Remove_Button" inherits="OptionsButtonTemplate" text="Удалить">
        <Size x = "80" y = "30" />
        <Anchors>
          <Anchor point="BOTTOMLEFT">
            <Offset x="20" y="20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            if (SS_User.settings.currentPlot == SS_User.settings.selectedPlot) then
              SS_User.settings.currentPlot = nil;
            end;
            SS_User.plots[SS_User.settings.selectedPlot] = nil;
            SS_User.leadingPlots[SS_User.settings.selectedPlot] = nil;
            SS_PlotController_Select(nil);
            self:GetParent():Hide()
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Activate_Button" inherits="OptionsButtonTemplate">
        <Size x = "110" y = "30" />
        <Anchors>
          <Anchor point="BOTTOMRIGHT">
            <Offset x="-20" y="20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            if (SS_User.settings.currentPlot == SS_User.settings.selectedPlot) then
              SS_PlotController_MakeCurrent(nil);
              SS_Draw_PlayerMenuOnPlotDeactivate();
              SS_Draw_PlayerFrameOnPlotDeActivate();
              SS_Plot_Controll:Hide();
            else
              SS_PlotController_MakeCurrent(SS_User.settings.selectedPlot);
              SS_Draw_PlayerMenuOnPlotActivate();
              SS_Draw_PlayerFrameOnPlotActivate();
              SS_Plot_Controll:Show();
            end;
            SS_PlotController_Select(nil);
            self:GetParent():Hide()
          </OnClick>
          <OnShow>
            if (SS_User.settings.currentPlot == SS_User.settings.selectedPlot) then
              SS_Plot_Activate_Activate_Button:SetText("Деактивировать");
            else
              SS_Plot_Activate_Activate_Button:SetText("Активировать");
            end;
          </OnShow>
        </Scripts>
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Exp_Bar" parent = "UIParent" hidden = "true">
    <Scripts>
      <OnShow>
        if (not (SS_Plots_Current())) then return; end;
        SS_Exp_Bar:SetWidth(MainMenuExpBar:GetWidth() + 20);
        SS_Progress_DrawExp();

        if (SS_Plots_Current().progress.level == 20) then
          self:Hide();
        end;
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="300" y="30"/></Size>
    <Anchors>
      <Anchor point="BOTTOMLEFT" relativeTo = "MainMenuExpBar">
        <Offset><AbsDimension x="-10" y="-13"/></Offset>
      </Anchor>
    </Anchors>
    <Layers>
      <Layer>
        <Texture>
          <Color a="0.5" r="0" g="0" b="0" />
        </Texture>
      </Layer>
      <Layer>
        <FontString name="$parent_Experience" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="10"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="7" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Frame name="SS_Exp_Bar_Progress" parent = "$parent">
        <Size><AbsDimension x="0" y="17"/></Size>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeTo = "MainMenuExpBar">
            <Offset><AbsDimension x="-10" y="-5"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <Texture>
              <Color a="0.5" r="0.25" g="0.75" b="1" />
            </Texture>
          </Layer>
        </Layers>
      </Frame>
    </Frames>
  </Frame>
  <Frame name = "SS_PlayerFrame" parent = "PlayerFrame" hidden = "true">
    <Scripts>
      <OnLoad>
        self:RegisterEvent("PLAYER_ENTERING_WORLD");
      </OnLoad>
			<OnEvent>
        if(event == "PLAYER_ENTERING_WORLD") then
          SS_Params_DrawHealth()
          SS_Params_DrawBarrier()
        end;
      </OnEvent>
    </Scripts>
    <Size>
      <AbsDimension x="138" y="48" />
    </Size>
    <Anchors>
      <Anchor point="BOTTOMRIGHT">
        <Offset><AbsDimension x="4" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Layers>
      <Layer>
        <FontString name="$parent_HP" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="36" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Barrier" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="105" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_HP_Icon">
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Очки Здоровья (ОЗ)");
            GameTooltip:AddLine("Обозначают количество очков урона,")
            GameTooltip:AddLine("которые ваш персонаж может принять");
            GameTooltip:AddLine("до того, как окажется выведен из боя");
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="16" y="-18"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="16" y="16" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\hp.blp" />
      </Button>
      <Button name="$parent_Barrier_Icon">
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Очки брони (ОБ)");
            GameTooltip:AddLine("Обозначают количество очков урона,")
            GameTooltip:AddLine("которые будут поглощены доспехами, не");
            GameTooltip:AddLine("уменьшая при этом очков боеспособности");
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="85" y="-18"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="16" y="16" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\shield.blp" />
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Plot_Controll" parent = "UIParent" movable="true" hidden = "true">
    <Scripts>
      <OnLoad>
        self:RegisterForDrag("LeftButton");
        self:RegisterEvent("PLAYER_ENTERING_WORLD");
      </OnLoad>
			<OnEvent>
        if(event == "PLAYER_ENTERING_WORLD") then
          if (SS_User.settings.currentPlot and SS_User.leadingPlots[SS_User.settings.currentPlot]) then
            self:Show();
          end;
        end;
      </OnEvent>
      <OnShow>
        SS_Draw_PlayersInPlot();
      </OnShow>
      <OnDragStart>self:StartMoving();</OnDragStart>
      <OnDragStop>self:StopMovingOrSizing();</OnDragStop>
    </Scripts>
    <Size><AbsDimension x="300" y="300"/></Size>
    <Anchors>
      <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\AddOns\SnowySystem\IMG\create-menu-background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="300"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Управление сюжетом">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="14"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_Close_Button" inherits="OptionsButtonTemplate" text="x">
        <Size x = "20" y = "20" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-20" y="-20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():Hide()
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Invite_Button" inherits="OptionsButtonTemplate" text="Пригласить">
        <Size x = "90" y = "28" />
        <Anchors>
          <Anchor point="BOTTOMLEFT">
            <Offset x="20" y="20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
          </OnClick>
        </Scripts>
      </Button>
      <ScrollFrame name="$parent_List" inherits="UIPanelScrollFrameTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent" x="32" y="-54"/>
          <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent" x="32" y="56"/>
          <Anchor point="RIGHT" relativePoint="RIGHT" relativeTo="$parent" x="-44"/>
        </Anchors>
        <ScrollChild>
          <Frame name="$parent_Players" />
        </ScrollChild>
      </ScrollFrame>
    </Frames>
  </Frame>
</Ui>