<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Include file="SnowySystem.lua"/>
  <Include file="Shared.lua"/>
  <Include file="DrawElements.lua"/>
  <Include file="Config.lua"/>
  <Frame name="SS_Player_Menu" parent="UIParent" enableMouse="true">
    <Scripts>
      <OnLoad>
        self:RegisterEvent("PLAYER_ENTERING_WORLD");
      </OnLoad>
			<OnEvent>
        if(event == "PLAYER_ENTERING_WORLD") then
          SS_ApplicationLoad();
          if (SS_User.settings.currentPlot) then
            SS_ResizePlayerMenuOnPlotActivate();
            SS_UpdatePlayerFrameOnPlotActivate();
          else
            SS_ResizePlayerMenuOnPlotDeactivate();
            SS_UpdatePlayerFrameOnPlotDeactivate();
          end;
        end;
      </OnEvent>
      <OnUpdate>
      </OnUpdate>
      <OnEnter>
        self:SetPoint("LEFT", -12, 0);
      </OnEnter>
      <OnLeave>
        self:SetPoint("LEFT", -64, 0);
      </OnLeave>
    </Scripts>
    <Size>
      <AbsDimension x="84" y="84" />
    </Size>
    <Anchors>
      <Anchor point="LEFT">
        <Offset><AbsDimension x="-64" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Frames>
      <Button name="$parent_StatsIcon">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Характеристики")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Stats_Menu:IsVisible()) then
              SS_Stats_Menu:Hide();
            else
              SS_HideAllSubmenus();
              SS_Stats_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="TOP">
            <Offset>
              <AbsDimension x="0" y="-20"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\stats.blp" />
      </Button>
      <Button name="$parent_SkillsIcon">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Навыки")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Skills_Menu:IsVisible()) then
              SS_Skills_Menu:Hide();
            else
              SS_HideAllSubmenus();
              SS_Skills_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="CENTER" />
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\skills.blp" />
      </Button>
      <Button name="$parent_SettingsIcon">
        <Scripts>
          <OnEnter>
            SS_Player_Menu:SetPoint("LEFT", -12, 0);
            GameTooltip:SetOwner(this, "CENTER")
            GameTooltip:AddLine("Управление")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            SS_Player_Menu:SetPoint("LEFT", -64, 0);
            GameTooltip:Hide()
          </OnLeave>
          <OnClick>
            if (SS_Controll_Menu:IsVisible()) then
              SS_Controll_Menu:Hide();
            else
              SS_HideAllSubmenus();
              SS_Controll_Menu:Show();
            end;
          </OnClick>
        </Scripts>
        <Anchors>
          <Anchor point="CENTER" />
        </Anchors>
        <Size>
          <AbsDimension x="32" y="32" />
        </Size>
        <NormalTexture file = "Interface\AddOns\SnowySystem\IMG\settings_normal" />
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Controll_Menu" hidden="true">
    <Scripts>
      <OnShow>
        SS_DrawPlots(SS_Controll_Menu_Settings_PlotType:GetText())
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="500" y="250"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
      <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Управление">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_SettingsTitle" font="Fonts\FRIZQT__.TTF" text="Настройки">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-48" />
          </Anchors>
        </FontString>
        <FontString name="$parent_PlotsTitle" font="Fonts\FRIZQT__.TTF" text="Сюжеты">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOP" x="-14" y="-48" />
          </Anchors>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Settings_DiceInfo" font="Fonts\FRIZQT__.TTF" text="Информация о броске">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="40" y="-76" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Settings_Invites" font="Fonts\FRIZQT__.TTF" text="Принимать приглашения">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="40" y="-106" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Settings_PlotType" font="Fonts\FRIZQT__.TTF" text="Участник">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPRIGHT" x="-50" y="-48" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Settings_EmptyPlot" font="Fonts\FRIZQT__.TTF">
          <Color r="0.6" g="0.6" b="0.6" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPRIGHT" x="-174" y="-76" />
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <CheckButton name="$parent_Settings_DiceCheck" inherits="OptionsCheckButtonTemplate" checked="true">
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="14" y="-70"></AbsDimension>
            </Offset>
          </Anchor>
        </Anchors>
      </CheckButton>
      <CheckButton name="$parent_Settings_InvitesCheck" inherits="OptionsCheckButtonTemplate" checked="true">
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="14" y="-100"></AbsDimension>
            </Offset>
          </Anchor>
        </Anchors>
      </CheckButton>
      <Button name="$parent_Settings_PlotTypeNext" inherits="OptionsButtonTemplate" text="+">
        <Size x = "20" y = "20" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-20" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnShow>
            if (SS_Controll_Menu_Settings_PlotType:GetText() == "Участник") then
              SS_HideEmptyPlotsText('plots');
            else
              SS_HideEmptyPlotsText('leadingPlots');
            end;
          </OnShow>
          <OnClick>
            if (SS_Controll_Menu_Settings_PlotType:GetText() == "Участник") then
              SS_Controll_Menu_Settings_PlotType:SetText("Ведущий");
              SS_Controll_Menu_Settings_Create_New_Plot:Show();
              SS_HideEmptyPlotsText('leadingPlots');
            else
              SS_Controll_Menu_Settings_PlotType:SetText("Участник");
              SS_Controll_Menu_Settings_Create_New_Plot:Hide();
              SS_HideEmptyPlotsText('plots');
            end;
            SS_DrawPlots(SS_Controll_Menu_Settings_PlotType:GetText());
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Settings_Create_New_Plot" hidden="true" inherits="OptionsButtonTemplate" text="Создать">
        <Anchors>
          <Anchor point="BOTTOMRIGHT">
            <Offset x="-20" y="24"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():Hide();
            SS_Create_Menu:Show();
          </OnClick>
        </Scripts>
      </Button>
      <Frame name="SS_Plots_Container">
        <Size><AbsDimension x="300" y="140"/></Size>
        <Anchors>
          <Anchor point="RIGHT" relativeTo="SS_Controll_Menu">
          <Offset><AbsDimension x="0" y="0"/></Offset>
          </Anchor>
        </Anchors>
      </Frame>
    </Frames>
  </Frame>
  <Frame name="SS_Stats_Menu" hidden="true">
    <Scripts>
      <OnShow>
        SS_Stats_Menu_Stat_Power_Value:SetText(SS_GetStatValue('power'));
        SS_Stats_Menu_Stat_Accuracy_Value:SetText(SS_GetStatValue('accuracy'));
        SS_Stats_Menu_Stat_Mobility_Value:SetText(SS_GetStatValue('mobility'));
        SS_Stats_Menu_Stat_Wisdom_Value:SetText(SS_GetStatValue('wisdom'));
        SS_Stats_Menu_Stat_Empathy_Value:SetText(SS_GetStatValue('empathy'));
        SS_Stats_Menu_Stat_Morale_Value:SetText(SS_GetStatValue('morale'));
        SS_Stats_Menu_Points_Value:SetText(SS_GetAvailableStatPoints());
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="200" y="230"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
      <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Характеристики">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Stat_Power_Name" font="Fonts\FRIZQT__.TTF" text="Мощь:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-45" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Accuracy_Name" font="Fonts\FRIZQT__.TTF" text="Точность:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-70" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Mobility_Name" font="Fonts\FRIZQT__.TTF" text="Подвиж.:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-95" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Wisdom_Name" font="Fonts\FRIZQT__.TTF" text="Мудрость:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-120" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Empathy_Name" font="Fonts\FRIZQT__.TTF" text="Эмпатия:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-145" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Morale_Name" font="Fonts\FRIZQT__.TTF" text="Мораль:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="20" y="-170" />
          </Anchors>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Stat_Power_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="57" y="-45" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Accuracy_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="73" y="-70" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Mobility_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="70" y="-95" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Wisdom_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="77" y="-120" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Empathy_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="70" y="-145" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Stat_Morale_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="68" y="-170" />
          </Anchors>
        </FontString>
      </Layer>
      <Layer>
        <FontString name="$parent_Points_Name" font="Fonts\FRIZQT__.TTF" text="Доступно:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="BOTTOMLEFT" x="20" y="20" />
          </Anchors>
        </FontString>
        <FontString name="$parent_Points_Value" font="Fonts\FRIZQT__.TTF" text="0">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="BOTTOMLEFT" x="76" y="20" />
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_Stat_Power_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(1, 'power', SS_Stats_Menu_Stat_Power_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Power_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-1, 'power', SS_Stats_Menu_Stat_Power_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Power_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-SS_GetStatValue('power'), 'power', SS_Stats_Menu_Stat_Power_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Power_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-43"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Мощь")
            GameTooltip:AddLine("Облегчает проверки ближнего боя и атлетики")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(1, 'accuracy', SS_Stats_Menu_Stat_Accuracy_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-1, 'accuracy', SS_Stats_Menu_Stat_Accuracy_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-SS_GetStatValue('accuracy'), 'accuracy', SS_Stats_Menu_Stat_Accuracy_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Accuracy_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-68"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Точность")
            GameTooltip:AddLine("Облегчает проверки дальнего боя и ловкости рук")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(1, 'mobility', SS_Stats_Menu_Stat_Mobility_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-1, 'mobility', SS_Stats_Menu_Stat_Mobility_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-SS_GetStatValue('mobility'), 'mobility', SS_Stats_Menu_Stat_Mobility_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Mobility_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-93"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Подвижность")
            GameTooltip:AddLine("Облегчает проверки акробатики и скрытности")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Wisdom_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(1, 'wisdom', SS_Stats_Menu_Stat_Wisdom_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Wisdom_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-1, 'wisdom', SS_Stats_Menu_Stat_Wisdom_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Wisdom_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-SS_GetStatValue('wisdom'), 'wisdom', SS_Stats_Menu_Stat_Wisdom_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Wisdom_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-118"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Мудрость")
            GameTooltip:AddLine("Облегчает проверки чародейства и знания")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(1, 'empathy', SS_Stats_Menu_Stat_Empathy_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-1, 'empathy', SS_Stats_Menu_Stat_Empathy_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-SS_GetStatValue('empathy'), 'empathy', SS_Stats_Menu_Stat_Empathy_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Empathy_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-143"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Эмпатия")
            GameTooltip:AddLine("Облегчает проверки выступления и суждения")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Add" inherits="OptionsButtonTemplate" text="+">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-76" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(1, 'morale', SS_Stats_Menu_Stat_Morale_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Reduce" inherits="OptionsButtonTemplate" text="-">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-56" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-1, 'morale', SS_Stats_Menu_Stat_Morale_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Reset" inherits="OptionsButtonTemplate" text="x">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-36" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            SS_PointToStat(-SS_GetStatValue('morale'), 'morale', SS_Stats_Menu_Stat_Morale_Value);
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Stat_Morale_Info" inherits="OptionsButtonTemplate" text="?">
        <Size x = "14" y = "16" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-16" y="-168"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnEnter>
            GameTooltip:SetOwner(this, "BOTTOM")
            GameTooltip:AddLine("Мораль")
            GameTooltip:AddLine("Облегчает проверки религии и самоконтроля")
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Skills_Menu" hidden="true">
    <Size><AbsDimension x="400" y="230"/></Size>
    <Anchors>
      <Anchor point="LEFT" relativeTo="SS_Player_Menu">
      <Offset><AbsDimension x="57" y="0"/></Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Навыки">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="12"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Frame name="$parent_Active">
      <Scripts>
        <OnShow>
          SS_Skills_Menu_Active_Skill_Melee_Value:SetText(SS_GetSkillValue('melee'));
          SS_Skills_Menu_Active_Skill_Range_Value:SetText(SS_GetSkillValue('range'));
          SS_Skills_Menu_Active_Skill_Magic_Value:SetText(SS_GetSkillValue('magic'));
          SS_Skills_Menu_Active_Skill_Religion_Value:SetText(SS_GetSkillValue('religion'));
          SS_Skills_Menu_Active_Skill_Perfomance_Value:SetText(SS_GetSkillValue('perfomance'));
          SS_Skills_Menu_Active_Skill_Hands_Value:SetText(SS_GetSkillValue('hands'));
        </OnShow>
      </Scripts>
        <Size><AbsDimension x="205" y="210"/></Size>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset><AbsDimension x="0" y="-20"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Активные">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="12"/>
              <Anchors>
                <Anchor point="TOP" x="0" y="-20" />
              </Anchors>
              <Shadow>
                <Offset x="-1" y="-1" />
                <Color r="0" g="0" b="0"/>
              </Shadow>
            </FontString>
          </Layer>
          <Layer>
            <FontString name="$parent_Skill_Melee_Name" font="Fonts\FRIZQT__.TTF" text="Ближн. бой:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-45" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Range_Name" font="Fonts\FRIZQT__.TTF" text="Дальний бой:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-70" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Magic_Name" font="Fonts\FRIZQT__.TTF" text="Чародейство:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-95" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Religion_Name" font="Fonts\FRIZQT__.TTF" text="Вера:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-120" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Perfomance_Name" font="Fonts\FRIZQT__.TTF" text="Выступление:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-145" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Hands_Name" font="Fonts\FRIZQT__.TTF" text="Ловкость рук:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-170" />
              </Anchors>
            </FontString>
          </Layer>
          <Layer>
            <FontString name="$parent_Skill_Melee_Value" font="Fonts\FRIZQT__.TTF" text="0">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="88" y="-45" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Range_Value" font="Fonts\FRIZQT__.TTF" text="0">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="94" y="-70" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Magic_Value" font="Fonts\FRIZQT__.TTF" text="0">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="96" y="-95" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Religion_Value" font="Fonts\FRIZQT__.TTF" text="0">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="53" y="-120" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Perfomance_Value" font="Fonts\FRIZQT__.TTF" text="0">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="94" y="-145" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Hands_Value" font="Fonts\FRIZQT__.TTF" text="0">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="96" y="-170" />
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Frames>
          <Button name="$parent_Skill_Melee_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(1, 'melee', SS_Skills_Menu_Active_Skill_Melee_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Melee_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-1, 'melee', SS_Skills_Menu_Active_Skill_Melee_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Melee_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-SS_GetSkillValue('melee'), 'melee', SS_Skills_Menu_Active_Skill_Melee_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Melee_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-41"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Ближний бой")
                GameTooltip:AddLine("Применяется для всех атак, проводимых в ближнем бою.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Ударить дубиной")
                GameTooltip:AddLine("Бонус: Мощь")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(1, 'range', SS_Skills_Menu_Active_Skill_Range_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-1, 'range', SS_Skills_Menu_Active_Skill_Range_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-SS_GetSkillValue('range'), 'range', SS_Skills_Menu_Active_Skill_Range_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Range_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-66"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Дальний бой")
                GameTooltip:AddLine("Применяется для всех атак, проводимых в дальнем бою.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Выстрелить из лука")
                GameTooltip:AddLine("Бонус: Точность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(1, 'magic', SS_Skills_Menu_Active_Skill_Magic_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-1, 'magic', SS_Skills_Menu_Active_Skill_Magic_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-SS_GetSkillValue('magic'), 'magic', SS_Skills_Menu_Active_Skill_Magic_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Magic_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-91"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Чародейство")
                GameTooltip:AddLine("Применяется для атак с использованием магии.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Заклинания чернокнижников, магов")
                GameTooltip:AddLine("Бонус: Мудрость")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(1, 'religion', SS_Skills_Menu_Active_Skill_Religion_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-1, 'religion', SS_Skills_Menu_Active_Skill_Religion_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-SS_GetSkillValue('religion'), 'religion', SS_Skills_Menu_Active_Skill_Religion_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Religion_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-116"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Вера")
                GameTooltip:AddLine("Применяется для атак, основанных на веровании персонажа.")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Свет, Шаманизм, Друидизм")
                GameTooltip:AddLine("Бонус: Мораль")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(1, 'perfomance', SS_Skills_Menu_Active_Skill_Perfomance_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-1, 'perfomance', SS_Skills_Menu_Active_Skill_Perfomance_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-SS_GetSkillValue('perfomance'), 'perfomance', SS_Skills_Menu_Active_Skill_Perfomance_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Perfomance_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-141"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Выступление")
                GameTooltip:AddLine("Применяется для действий связанных с психологическим")
                GameTooltip:AddLine("воздействием на других персонажей")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Обман, Привлечение внимания, Убеждение")
                GameTooltip:AddLine("Бонус: Эмпатия")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Add" inherits="OptionsButtonTemplate" text="+">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-72" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(1, 'hands', SS_Skills_Menu_Active_Skill_Hands_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Reduce" inherits="OptionsButtonTemplate" text="-">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-56" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-1, 'hands', SS_Skills_Menu_Active_Skill_Hands_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Reset" inherits="OptionsButtonTemplate" text="x">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-40" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnClick>
                SS_PointToSkill(-SS_GetSkillValue('hands'), 'hands', SS_Skills_Menu_Active_Skill_Hands_Value);
              </OnClick>
            </Scripts>
          </Button>
          <Button name="$parent_Skill_Hands_Info" inherits="OptionsButtonTemplate" text="?">
            <Size x = "14" y = "16" />
            <Anchors>
              <Anchor point="TOPRIGHT">
                <Offset x="-24" y="-167"/>
              </Anchor> 
            </Anchors>
            <Scripts>
              <OnEnter>
                GameTooltip:SetOwner(this, "BOTTOM")
                GameTooltip:AddLine("Ловкость рук")
                GameTooltip:AddLine("Применяется для действий, требующих мелкой моторики")
                GameTooltip:AddLine("-----------")
                GameTooltip:AddLine("Пример: Карманная кража, взлом замка")
                GameTooltip:AddLine("Бонус: Точность")
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
        </Frames>
      </Frame>
      <Frame name="$parent_Passive">
        <Size><AbsDimension x="205" y="210"/></Size>
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset><AbsDimension x="0" y="-20"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Пассивные">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="12"/>
              <Anchors>
                <Anchor point="TOP" x="0" y="-20" />
              </Anchors>
              <Shadow>
                <Offset x="-1" y="-1" />
                <Color r="0" g="0" b="0"/>
              </Shadow>
            </FontString>
          </Layer>
          <Layer>
            <FontString name="$parent_Skill_Stealth_Name" font="Fonts\FRIZQT__.TTF" text="Скрытность:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-45" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Observation_Name" font="Fonts\FRIZQT__.TTF" text="Суждение:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-70" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Controll_Name" font="Fonts\FRIZQT__.TTF" text="Самоконтроль:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-95" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Knowledge_Name" font="Fonts\FRIZQT__.TTF" text="Знание:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-120" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Athletics_Name" font="Fonts\FRIZQT__.TTF" text="Атлетика:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-145" />
              </Anchors>
            </FontString>
            <FontString name="$parent_Skill_Acrobats_Name" font="Fonts\FRIZQT__.TTF" text="Акробатика:">
              <Color r="1" g="1" b="1" a="1"/>
              <FontHeight val="11"/>
              <Anchors>
                <Anchor point="TOPLEFT" x="20" y="-170" />
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
      </Frame>
    </Frames>
  </Frame>
  <Frame name="SS_Create_Menu" parent = "UIParent" hidden="true">
    <Size><AbsDimension x="300" y="164"/></Size>
    <Anchors>
      <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\AddOns\SnowySystem\IMG\create-menu-background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="300"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_Title" font="Fonts\FRIZQT__.TTF" text="Новый сюжет">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="14"/>
          <Anchors>
            <Anchor point="TOP" x="0" y="-20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Name_Input_Title" font="Fonts\FRIZQT__.TTF" text="Название:">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="11"/>
          <Anchors>
            <Anchor point="LEFT" x="52" y="36" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_Close_Button" inherits="OptionsButtonTemplate" text="x">
        <Size x = "20" y = "20" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-20" y="-20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():Hide()
          </OnClick>
        </Scripts>
      </Button>
      <EditBox name="$parent_Name_Input" letters="36" autoFocus="false">
        <Size x="200" y="36" />
        <Anchors>
          <Anchor point="CENTER">
            <Offset><AbsDimension x="0" y="8"/></Offset>
          </Anchor>
        </Anchors>
        <TextInsets top="4" bottom="4" left="8" right="8" />
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
          <EdgeSize>
            <AbsValue val="12"/>
          </EdgeSize>
        </Backdrop>
        <FontString inherits="ChatFontNormal" />
      </EditBox>
      <Button name="$parent_Close_Button" inherits="OptionsButtonTemplate" text="Создать">
        <Size x = "140" y = "36" />
        <Anchors>
          <Anchor point="BOTTOM">
            <Offset x="0" y="20"/>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnClick>
            SS_createPlot(SS_Create_Menu_Name_Input:GetText(), UnitName("player"));
            self:GetParent():Hide();
          </OnClick>
        </Scripts>
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Plot_Activate" parent = "UIParent" hidden="true">
    <Size><AbsDimension x="300" y="200"/></Size>
    <Scripts>
      <OnShow>
        SS_Plot_Activate_Name:SetText('"'..SS_GetPlotSummary("selected").name..'"');
        if (SS_User.plots[SS_User.settings.selectedPlot] and SS_User.leadingPlots[SS_User.settings.selectedPlot]) then
          SS_Plot_Activate_Role:SetText('Вы - игрок и ведущий сюжета');
        else
          if (SS_User.plots[SS_User.settings.selectedPlot]) then
            SS_Plot_Activate_Role:SetText('Вы - участник сюжета');
          elseif (SS_User.leadingPlots[SS_User.settings.selectedPlot]) then
            SS_Plot_Activate_Role:SetText('Вы - ведущий сюжета');
          end;
        end;
      </OnShow>
    </Scripts>
    <Anchors>
      <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\AddOns\SnowySystem\IMG\player-activate" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <BackgroundInsets>
        <AbsInset left="8" right="8" top="8" bottom="8"/>
      </BackgroundInsets>
      <TileSize>
        <AbsValue val="300"/>
      </TileSize>
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
    </Backdrop>
    <Layers>
      <Layer>
        <FontString name="$parent_PreName" font="Fonts\FRIZQT__.TTF" text = "Сюжет">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="16"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="50" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Name" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="0.6" b="0" a="1"/>
          <FontHeight val="20"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="20" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
        <FontString name="$parent_Role" font="Fonts\FRIZQT__.TTF" text="">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="14"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="-10" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button name="$parent_Close_Button" inherits="OptionsButtonTemplate" text="x">
        <Size x = "20" y = "20" />
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset x="-20" y="-20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():Hide()
            SS_User.settings.selectedPlot = nil;
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Remove_Button" inherits="OptionsButtonTemplate" text="Удалить">
        <Size x = "80" y = "30" />
        <Anchors>
          <Anchor point="BOTTOMLEFT">
            <Offset x="20" y="20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            if (SS_User.settings.currentPlot == SS_User.settings.selectedPlot) then
              SS_User.settings.currentPlot = nil;
            end;
            SS_User.plots[SS_User.settings.selectedPlot] = nil;
            SS_User.leadingPlots[SS_User.settings.selectedPlot] = nil;
            SS_MakePlotSelected(nil);
            self:GetParent():Hide()
          </OnClick>
        </Scripts>
      </Button>
      <Button name="$parent_Activate_Button" inherits="OptionsButtonTemplate">
        <Size x = "110" y = "30" />
        <Anchors>
          <Anchor point="BOTTOMRIGHT">
            <Offset x="-20" y="20"/>
          </Anchor> 
        </Anchors>
        <Scripts>
          <OnClick>
            if (SS_User.settings.currentPlot == SS_User.settings.selectedPlot) then
              SS_MakePlotCurrent(nil);
              SS_ResizePlayerMenuOnPlotDeactivate();
              SS_UpdatePlayerFrameOnPlotDeactivate();
            else
              SS_MakePlotCurrent(SS_User.settings.selectedPlot);
              SS_ResizePlayerMenuOnPlotActivate();
              SS_UpdatePlayerFrameOnPlotActivate();
            end;
            SS_MakePlotSelected(nil);
            self:GetParent():Hide()
          </OnClick>
          <OnShow>
            if (SS_User.settings.currentPlot == SS_User.settings.selectedPlot) then
              SS_Plot_Activate_Activate_Button:SetText("Деактивировать");
            else
              SS_Plot_Activate_Activate_Button:SetText("Активировать");
            end;
          </OnShow>
        </Scripts>
      </Button>
    </Frames>
  </Frame>
  <Frame name="SS_Exp_Bar" parent = "UIParent" hidden = "true">
    <Scripts>
      <OnShow>
        SS_Exp_Bar:SetWidth(MainMenuExpBar:GetWidth() + 20);
        SS_DrawExprienceProgress();
      </OnShow>
    </Scripts>
    <Size><AbsDimension x="300" y="30"/></Size>
    <Anchors>
      <Anchor point="BOTTOMLEFT" relativeTo = "MainMenuExpBar">
        <Offset><AbsDimension x="-10" y="-13"/></Offset>
      </Anchor>
    </Anchors>
    <Layers>
      <Layer>
        <Texture>
          <Color a="0.5" r="0" g="0" b="0" />
        </Texture>
      </Layer>
      <Layer>
        <FontString name="$parent_Experience" font="Fonts\FRIZQT__.TTF">
          <Color r="1" g="1" b="1" a="1"/>
          <FontHeight val="10"/>
          <Anchors>
            <Anchor point="CENTER" x="0" y="7" />
          </Anchors>
          <Shadow>
            <Offset x="-1" y="-1" />
            <Color r="0" g="0" b="0"/>
          </Shadow>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Frame name="SS_Exp_Bar_Progress" parent = "$parent">
        <Size><AbsDimension x="0" y="17"/></Size>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeTo = "MainMenuExpBar">
            <Offset><AbsDimension x="-10" y="-5"/></Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer>
            <Texture>
              <Color a="0.5" r="0.25" g="0.75" b="1" />
            </Texture>
          </Layer>
        </Layers>
      </Frame>
    </Frames>
  </Frame>
</Ui>